<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Reclamações — Net Vale</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/reclamacoes.css" />
  </head>

  <body>
    <header>
      <div class="nav-links" role="navigation" aria-label="links principais">
        <a href="AreaDoCliente.html">Área do Cliente</a>
        <a href="SobreNos.html">Sobre Nós</a>
        <a href="PlanosEAdesao.html">Planos</a>
        <a class="active" href="Reclamaçoes.html">Reclamações</a>
        <a href="index.html">Início</a>
      </div>
    </header>

    <main class="container">
      <h1>Central de Reclamações</h1>
      <p>
        Sentimos muito por qualquer inconveniente! 😔 Estamos aqui para ouvir
        você e resolver o seu problema o mais rápido possível.
      </p>

      <section class="contato-reclamacoes">
        <h2>Entre em Contato</h2>
        <p>Escolha o canal que preferir para registrar sua reclamação:</p>
        <p>
          <a
            class="cta"
            href="https://wa.me/553398347286?text=Olá,%20gostaria%20de%20registrar%20uma%20reclamação.%20O%20problema%20é%20o%20seguinte:%20"
          >
            🚨 Falar no WhatsApp
          </a>
        </p>
        <p></p>

        <p>
          <a
            class="cta secondary"
            target="_blank"
            href="https://mail.google.com/mail/?view=cm&fs=1&to=nnetvale@gmail.com&su=Reclamação%20-%20Net%20Vale&body=Descreva%20aqui%20o%20problema%20que%20você%20está%20enfrentando:"
          >
            📧 Abrir no Gmail Web
          </a>
        </p>
      </section>

      <section class="orientacoes">
        <h2>Antes de enviar, verifique:</h2>
        <ul>
          <li>
            Se o seu <strong>roteador está ligado</strong> e os cabos estão
            corretamente conectados.
          </li>
          <li>
            Se há alguma <strong>interrupção de energia</strong> ou manutenção
            em andamento em sua região.
          </li>
          <li>
            Se o problema persiste em
            <strong>outros dispositivos</strong> (celular, notebook, etc).
          </li>
        </ul>
        <p>
          Essas verificações simples podem ajudar a resolver rapidamente algumas
          falhas comuns. 😉
        </p>
      </section>

      <section class="horarios">
        <h2>Horário de Atendimento</h2>
        <p>
          📅 Segunda a Sexta: <strong>08h às 12h - 13h às 17h</strong><br />
          📞 Sábados: <strong>08h às 12h</strong><br />
        </p>
      </section>

      <section class="agradecimento">
        <h2>Seu feedback é importante!</h2>
        <p>
          Suas observações nos ajudam a melhorar continuamente o serviço.
          Agradecemos pela compreensão e paciência. 💙
        </p>
      </section>

      <section class="comentarios">
        <h2>Comentários Públicos</h2>
        <form id="comentarioForm" class="comentario-form">
          <input
            type="text"
            id="nome"
            placeholder="Seu nome"
            required
            maxlength="50"
          />
          <textarea
            id="mensagem"
            rows="4"
            placeholder="Deixe aqui sua reclamação ou comentário público..."
            required
            maxlength="300"
          ></textarea>
          <button type="submit">Publicar Comentário</button>
        </form>

        <div id="listaComentarios"></div>
      </section>
    </main>

    <script>
      const form = document.getElementById("comentarioForm");
      const lista = document.getElementById("listaComentarios");

      let comentarios = JSON.parse(localStorage.getItem("comentarios")) || [];

      function salvarComentarios() {
        localStorage.setItem("comentarios", JSON.stringify(comentarios));
      }

      function renderComentarios() {
        lista.innerHTML = "";
        comentarios.forEach((c, index) => {
          const div = document.createElement("div");
          div.className = "comentario";
          div.innerHTML = `
            <button class="btn-apagar" title="Apagar comentário" data-index="${index}">🗑️</button>
            <strong>${c.nome}</strong>
            <p>${c.mensagem}</p>
            <small>Publicado em ${c.data}</small>
          `;
          lista.prepend(div);
        });

        document.querySelectorAll(".btn-apagar").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const index = e.target.dataset.index;
            if (confirm("Deseja realmente apagar este comentário?")) {
              comentarios.splice(index, 1);
              salvarComentarios();
              renderComentarios();
            }
          });
        });
      }

      renderComentarios();

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        const nome = document.getElementById("nome").value.trim();
        const mensagem = document.getElementById("mensagem").value.trim();

        if (!nome || !mensagem) return alert("Preencha todos os campos!");

        const novoComentario = {
          nome,
          mensagem,
          data: new Date().toLocaleString("pt-BR"),
        };

        comentarios.push(novoComentario);
        salvarComentarios();
        renderComentarios();
        form.reset();
      });
    </script>
  </body>
</html>
